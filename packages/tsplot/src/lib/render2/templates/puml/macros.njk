{% macro access(member) -%}
{{ member | visibility + ' ' if member | visibility -}}
{{ '{static} ' if member.isStatic -}}
{{ '{abstract} ' if member.isAbstract }}
{%- endmacro %}

{% macro field(field) -%}
{{ access(field) -}}
{{ field.name }}{{ '?' if field.isOptional }}: {{ field.typeToString({ removeUndefined: field.isOptional }) }}
{%- endmacro %}

{% macro signature(fn) -%}
{{ access(fn) -}}
{{ fn.name }}({{ params(fn.params) }}): {{ fn.returnTypeToString() }}
{%- endmacro %}

{% macro param(param) -%}
{{ '...' if param.isRest }}{{ field(param) }}
{%- endmacro %}

{% macro params(params) -%}
{{ params.map(param) | join(', ') }}
{%- endmacro %}

{% macro edge(edge, connection = '--') -%}
{{ edge.from.name }}{{ connection }}{{ edge.to.name }}
{% endmacro %}

{% macro stereotype(stereotypes) -%}
<<{{ stereotypes | join(', ', 'name') }}>>{{ ' ' }}
{%- endmacro %}
